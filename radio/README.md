# radikoとradiruの録音スクリプト（勝手に改造版）

orignal は
https://github.com/zarigani/radikoru


## rec.sh
録音

時報から録音したい。既存の某製品のファイル名に合わせたい。
などの目的で一寸改造した。

思考&試行錯誤したした結果、以下の様になった

スクリプトの開始は 1 分前。59 分とかから。
認証で 5 秒程度かかる事を前提に少し待つ。
録音が終了したらファイル名を書き変える。日本語を含むファイル名に
なるので、安全のために録音コマンドに渡すファイル名は ascii にしておく。
ファイル名に含める時分は開始時刻にはできないので、コマンドラインから
指定する。

時間の指定は秒だけでは面倒なので 1h とか 2h30m とかから
変換するようにした。ただし簡易処理なので、表現的に正しくなくとも
受け付けてしまう。

配列を使うため、bash が外せなくなったので、どうせなら、と
関数宣言等のスタイルを書き変えた。

NHK に続いてサイマルラジオも追加。
ラジオ局は http://www.simulradio.info/ から採った。
ただし、殆んどは未テスト。手元で確認できたものは -l の一覧で
末尾に '*' をつけてある。今後増やすつもり。
mms な url は自分で取り出した方がよいかもしれない。

結局 .asx の中に mms な url があったら、それを取り出して
mplayer に渡すようにした


オレ、明日からスタレビの番組を録るんだ（フラグ）。



## 再生するには
.flv への出力を mplayer にリダイレクトするのが簡単かつ確実。
確実ってのは、録音での実績があるって意味。


